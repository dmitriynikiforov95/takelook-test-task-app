{"version":3,"sources":["img/logo.png","components/takelook-service-context/takelook-service-context.js","components/hoc/with-takelook-service.js","components/spinner/index.js","components/spinner/spinner.js","components/card-list-item/card-list-item.js","components/card-list-item/index.js","components/card-list/card-list.js","actions/index.js","components/card-list/index.js","components/filter/filter.js","components/filter/index.js","components/tag-list/tag-list.js","components/tag-list/index.js","components/smart-search-panel/smart-search-panel.js","components/smart-search-panel/index.js","components/app/index.js","components/app/app.js","components/error-indicator/index.js","components/error-indicator/error-indicator.js","components/error-boundry/index.js","components/error-boundry/error-boundry.js","services/takelook-service.js","reducers/index.js","store.js","index.js"],"names":["module","exports","React","createContext","TakeLookServiceProvider","Provider","TakeLookServiceConsumer","Consumer","withTakeLookService","Wrapped","props","takelookService","Spinner","className","Meta","AntdCard","CardListItem","card","name","view","price","params","tag","length","cover","alt","src","title","map","i","class","CardList","sortByPrice","a","b","aPrice","bPrice","this","cardsLoaded","getData","then","data","sort","cards","idx","id","Component","filterCards","selectedPriceRange","term","tags","newCards","filter","item","toLowerCase","indexOf","searchByTerm","min","max","findIndex","mapDispatchToProps","newBooks","type","payload","connect","loading","Filter","prevProps","setDefaultRangeValue","setCurrentRangeValue","minPrice","maxPrice","changeRangeFilter","defaultPriceRange","range","included","defaultValue","value","onChange","dispatch","tagRemovedFromTaglist","tagId","TagList","tagList","closable","key","onClose","e","preventDefault","SmartSeacrhPanel","Input","Search","onSumbit","tagAddedToTaglist","refValue","current","changeTerm","createRef","findSearchTags","variableTags","placement","content","ref","placeholder","dataSource","filterOption","inputValue","option","children","toUpperCase","suffix","onClick","SmartSearchPanel","App","logo","ErrorIndicator","ErrorBoundry","state","hasError","setState","TakeLookService","Promise","resolve","setTimeout","initialState","addTagToList","currentValue","removeTageFromList","slice","findVariableTags","newArr","push","reducer","action","store","createStore","window","__REDUX_DEVTOOLS_EXTENSION__","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.ddbfef76.chunk.js","sourcesContent":["module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAL8AAAA7CAYAAAAqy1vIAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyJpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYwIDYxLjEzNDc3NywgMjAxMC8wMi8xMi0xNzozMjowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNSBNYWNpbnRvc2giIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6MTkxNDlDNDNBNUU0MTFFNzg2OENBQzVBNjhCNEFFNzQiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6MTkxNDlDNDRBNUU0MTFFNzg2OENBQzVBNjhCNEFFNzQiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDoxOTE0OUM0MUE1RTQxMUU3ODY4Q0FDNUE2OEI0QUU3NCIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDoxOTE0OUM0MkE1RTQxMUU3ODY4Q0FDNUE2OEI0QUU3NCIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PuYJkSQAABMjSURBVHja7F0LcFXF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\"","import React from 'react';\r\n\r\nconst {\r\n    Provider: TakeLookServiceProvider,\r\n    Consumer: TakeLookServiceConsumer\r\n} = React.createContext();\r\n\r\nexport {\r\n    TakeLookServiceProvider,\r\n    TakeLookServiceConsumer\r\n}\r\n\r\n","import React from \"react\";\r\nimport { TakeLookServiceConsumer } from \"../takelook-service-context\";\r\n\r\nconst withTakeLookService = Wrapped => {\r\n  return props => {\r\n    return (\r\n      <TakeLookServiceConsumer>\r\n        {takelookService => {\r\n          return <Wrapped {...props} takelookService={takelookService} />;\r\n        }}\r\n      </TakeLookServiceConsumer>\r\n    );\r\n  };\r\n};\r\n\r\nexport default withTakeLookService;","import Spinner from './spinner';\r\n\r\nexport default Spinner;","import React from \"react\";\r\nimport \"./spinner.css\";\r\n\r\nconst Spinner = () => {\r\n  return (\r\n    <div className=\"lds-css wrapper\">\r\n        <div className=\"lds-magnify\">\r\n            <div><div>\r\n                <div></div>\r\n                <div></div>\r\n            </div></div>\r\n        </div>\r\n    </div>\r\n);\r\n};\r\n\r\nexport default Spinner;\r\n","import React from \"react\";\r\n\r\nimport { Card as AntdCard } from \"antd\";\r\n\r\nimport \"./card-list-item.css\";\r\n\r\nconst { Meta } = AntdCard;\r\n\r\nconst CardListItem = ({ card }) => {\r\n  const { name, view, price, params } = card;\r\n\r\n  const comma = \",\";\r\n  let tag = \"теги:\";\r\n\r\n  if (params.length == 0) {\r\n    tag = \"теги отсутствуют\"\r\n  }\r\n  \r\n  return (\r\n    <AntdCard className=\"card-list-item\" cover={<img alt={name} src={view} />}>\r\n      <Meta title={name} />\r\n      <div className=\"card-list-item-price\">{`${price} р.`}</div>\r\n      <ul className=\"card-list-item-tag-list\">\r\n        <span className=\"span\">{tag}</span>\r\n        {params.map(i => (\r\n          <li className=\"tag-list-item\">\r\n            {\"#\"}\r\n            {i}\r\n            <span class=\"tag-list-item-comma\">{comma}</span>\r\n          </li>\r\n        ))}\r\n      </ul>\r\n    </AntdCard>\r\n  );\r\n};\r\n\r\nexport default CardListItem;\r\n","import CardListItem from './card-list-item';\r\n\r\nexport default CardListItem;","import React, { Component } from \"react\";\r\nimport { connect } from \"react-redux\";\r\n\r\nimport { withTakeLookService } from \"../hoc/\";\r\nimport { cardsLoaded } from \"../../actions\";\r\nimport Spinner from \"../spinner/\";\r\n\r\nimport CardListItem from \"../card-list-item\";\r\nimport \"./card-list.css\";\r\n\r\nclass CardList extends Component {\r\n  sortByPrice = (a, b) => {\r\n    var aPrice = a.price;\r\n    var bPrice = b.price;\r\n    return aPrice < bPrice ? -1 : aPrice > bPrice ? 1 : 0;\r\n  };\r\n\r\n  componentDidMount() {\r\n    const { takelookService, cardsLoaded } = this.props;\r\n    takelookService\r\n      .getData()\r\n      .then(data => cardsLoaded(data.sort(this.sortByPrice)));\r\n  }\r\n\r\n  render() {\r\n    const { cards } = this.props;\r\n    return (\r\n      <ul className=\"card-list\">\r\n        {cards.map((card, idx) => {\r\n          return (\r\n            <li id={idx} className=\"card-list-item\">\r\n              <CardListItem card={card} />\r\n            </li>\r\n          );\r\n        })}\r\n      </ul>\r\n    );\r\n  }\r\n}\r\n\r\n\r\n\r\nconst filterCards = (cards, selectedPriceRange, term, tags) => {\r\n  const searchByTerm = (cards, term) => {\r\n    return term.length === 0\r\n      ? cards\r\n      : cards.filter(\r\n          item => item.name.toLowerCase().indexOf(term.toLowerCase()) > -1\r\n        );\r\n  };\r\n\r\n  let newCards = searchByTerm(cards, term).filter(\r\n    item =>\r\n      item.price >= selectedPriceRange.min &&\r\n      item.price <= selectedPriceRange.max\r\n  );\r\n\r\n  return tags.length == 0\r\n    ? newCards\r\n    : newCards.filter(card => {\r\n        for (let params of card.params) {\r\n          if (!(tags.findIndex(i => i === params) === -1)) {\r\n            return true;\r\n          }\r\n        }\r\n      });\r\n};\r\n\r\nconst mapStateToProps = ({\r\n  cards,\r\n  loading,\r\n  selectedPriceRange,\r\n  term,\r\n  tags\r\n}) => {\r\n  return {\r\n    cards: filterCards(cards, selectedPriceRange, term, tags),\r\n    loading\r\n  };\r\n};\r\n\r\nconst mapDispatchToProps = {\r\n  cardsLoaded\r\n};\r\n\r\nexport default withTakeLookService(\r\n  connect(\r\n    mapStateToProps,\r\n    mapDispatchToProps\r\n  )(CardList)\r\n);\r\n","\r\nconst cardsLoaded = newBooks => {\r\n  return {\r\n    type: \"FETCH_CARDS_SUCCESS\",\r\n    payload: newBooks\r\n  };\r\n};\r\n\r\nconst changeRangeFilter = value => {\r\n  return {\r\n    type: \"CHANGE_RANGE_FILTER\",\r\n    payload: {\r\n      min: value[0],\r\n      max: value[1]\r\n    }\r\n  };\r\n};\r\n\r\n\r\nconst tagAddedToTaglist = tagId => {\r\n  return {\r\n    type: \"TAG_ADDED_TO_TAGLIST\",\r\n    payload: tagId\r\n  };\r\n};\r\n\r\nconst tagRemovedFromTaglist = tagId => {\r\n  return {\r\n    type: \"TAG_REMOVED_FROM_TAGLIST\",\r\n    payload: tagId\r\n  };\r\n};\r\n\r\nconst findSearchTags = value => {\r\n  return {\r\n    type: \"FIND_SEARCH_TAGS\",\r\n    payload: value\r\n  };\r\n};\r\n\r\n\r\n\r\nconst changeTerm = term => {\r\n  return {\r\n    type: \"CHANGE_TERM\",\r\n    payload: term\r\n  };\r\n};\r\n\r\n\r\nconst setCurrentRangeValue = (min, max) => {\r\n  return {\r\n    type: \"SET_CURRENT_RANGE_VALUE\",\r\n    payload: {\r\n      min,\r\n      max\r\n    }\r\n  };\r\n};\r\n\r\nconst setDefaultRangeValue = (min, max) => {\r\n  return {\r\n    type: \"SET_DEFAULT_RANGE_VALUE\",\r\n    payload: {\r\n      min,\r\n      max\r\n    }\r\n  };\r\n};\r\n\r\n\r\nexport {\r\n  cardsLoaded,\r\n  changeRangeFilter,\r\n  setCurrentRangeValue,\r\n  setDefaultRangeValue,\r\n  tagAddedToTaglist,\r\n  tagRemovedFromTaglist,\r\n  findSearchTags,\r\n  changeTerm\r\n};\r\n","import CardList from './card-list';\r\n\r\nexport default CardList;","import React, { Component } from \"react\";\r\nimport { Slider} from \"antd\";\r\nimport \"./filter.css\";\r\nimport {\r\n  changeRangeFilter,\r\n  setCurrentRangeValue,\r\n  setDefaultRangeValue\r\n} from \"../../actions\";\r\nimport { connect } from \"react-redux\";\r\nimport Spinner from \"../spinner\";\r\n\r\n\r\nclass Filter extends Component {\r\n  componentDidUpdate(prevProps) {\r\n\r\n    const { cards, setDefaultRangeValue, setCurrentRangeValue } = this.props;\r\n\r\n    if (cards.length !== prevProps.cards.length) {\r\n      let minPrice = cards[0].price;\r\n      let maxPrice = cards[0].price;\r\n\r\n      for (let i = 0; i < cards.length; i++) {\r\n        if (minPrice < cards[i].price) {\r\n          continue;\r\n        } else {\r\n          minPrice = cards[i].price;\r\n        }\r\n      }\r\n\r\n      for (let i = 0; i < cards.length; i++) {\r\n        if (maxPrice < cards[i].price) {\r\n          maxPrice = cards[i].price;\r\n        }\r\n      }\r\n\r\n      setDefaultRangeValue(minPrice, maxPrice);\r\n      setCurrentRangeValue(minPrice, maxPrice);\r\n    }\r\n  }\r\n  render() {\r\n    const {\r\n      changeRangeFilter,\r\n      defaultPriceRange,\r\n      loading,\r\n      selectedPriceRange,\r\n\r\n    } = this.props;\r\n\r\n    if (loading) {\r\n      return <Spinner />;\r\n    }\r\n\r\n    return (\r\n      <div className=\"filter-wrapper\">\r\n        <Slider\r\n          className=\"filter\"\r\n          range\r\n          included\r\n          defaultValue={[defaultPriceRange.min, defaultPriceRange.max]}\r\n          value={[selectedPriceRange.min, selectedPriceRange.max]}\r\n          max={defaultPriceRange.max}\r\n          min={defaultPriceRange.min}\r\n          onChange={changeRangeFilter}\r\n        />\r\n        <div>\r\n          <div className=\"filter-info-wrapper\">\r\n            <div>\r\n              <span>Стоимость</span>\r\n            </div>\r\n            <div>\r\n              <span className=\"price-left\">{selectedPriceRange.min}</span>-\r\n              <span className=\"price-right\">{selectedPriceRange.max}</span>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = ({ loading, cards, defaultPriceRange, selectedPriceRange }) => {\r\n  return {\r\n    loading,\r\n    defaultPriceRange,\r\n    selectedPriceRange,\r\n    cards\r\n  };\r\n};\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n  return {\r\n    changeRangeFilter: (min,max) => dispatch(changeRangeFilter(min, max)),\r\n    setCurrentRangeValue: (min, max) =>\r\n      dispatch(setCurrentRangeValue(min, max)),\r\n    setDefaultRangeValue: (min, max) => dispatch(setDefaultRangeValue(min, max))\r\n  };\r\n};\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(Filter);\r\n","import Filter from './filter';\r\n\r\nexport default Filter;","import React from \"react\";\r\n\r\nimport { connect } from \"react-redux\";\r\n\r\nimport { tagRemovedFromTaglist } from \"../../actions\";\r\n\r\nimport { Tag } from \"antd\";\r\n\r\n\r\nconst TagListContainer = ({ tags, tagRemovedFromTaglist }) => {\r\n  const tagList = tags.map((item, idx) => {\r\n    return (\r\n      <Tag\r\n        closable\r\n        key={idx} \r\n        onClose={e => {\r\n          e.preventDefault();\r\n          tagRemovedFromTaglist(idx);\r\n        }}\r\n      >\r\n        {item}\r\n      </Tag>\r\n    );\r\n  });\r\n\r\n  return <div>{tagList}</div>;\r\n};\r\n\r\nconst mapStateToProps = ({ tags }) => {\r\n  return {\r\n    tags\r\n  };\r\n};\r\n\r\nconst mapDispatchToProps = {\r\n  tagRemovedFromTaglist\r\n};\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(TagListContainer);\r\n","import TagList from './tag-list';\r\n\r\nexport default TagList;","import React, { Component } from \"react\";\r\nimport { connect } from \"react-redux\";\r\n\r\nimport { Icon, Input, AutoComplete, Popover} from \"antd\";\r\n\r\nimport { tagAddedToTaglist, changeTerm, findSearchTags } from \"../../actions\";\r\n\r\nimport \"./smart-search-panel.css\";\r\n\r\nimport TagListContainer from \"../tag-list\";\r\n\r\nconst { Search } = Input;\r\n\r\nclass SmartSeacrhPanel extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.refValue = React.createRef();\r\n  }\r\n\r\n  componentDidUpdate(prevProps) {\r\n    const { cards, findSearchTags } = this.props;\r\n\r\n    if (cards.length !== prevProps.cards.length) {\r\n      findSearchTags(cards);\r\n    }\r\n  }\r\n\r\n  onSumbit = e => {\r\n    this.props.tagAddedToTaglist(this.refValue.current.props.value);\r\n    this.props.changeTerm(\"\");\r\n  };\r\n\r\n  onChange = e => {\r\n    this.props.changeTerm(e);\r\n  };\r\n  render() {\r\n    const { variableTags } = this.props;\r\n\r\n    return (\r\n      <div>\r\n      <Popover placement=\"topLeft\"  content={\"Для добавления тега нажимите на значок \\'поиск\\'\"}>\r\n        <AutoComplete\r\n          ref={this.refValue}\r\n          className=\"smart-search-panel\"\r\n          placeholder=\"Поиск по тегам и названиям\"\r\n          onChange={this.onChange}\r\n          value={this.props.term}\r\n          dataSource={variableTags}\r\n          filterOption={(inputValue, option) =>\r\n            option.props.children\r\n              .toUpperCase()\r\n              .indexOf(inputValue.toUpperCase()) !== -1\r\n          }\r\n        >\r\n       \r\n          <Input\r\n          content={\"hello\"}\r\n            suffix={\r\n              <Icon\r\n                onClick={value => this.onSumbit(value)}\r\n                type=\"search\"\r\n                className=\"certain-category-icon\"\r\n              />\r\n            }\r\n          />\r\n        </AutoComplete>\r\n        </Popover>\r\n        <div>\r\n          <TagListContainer />\r\n        </div>\r\n       </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = ({ term, cards, variableTags }) => {\r\n  return {\r\n    term,\r\n    cards,\r\n    variableTags\r\n  };\r\n};\r\nconst mapDispatchToProps = {\r\n  tagAddedToTaglist,\r\n  changeTerm,\r\n  findSearchTags\r\n};\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(SmartSeacrhPanel);\r\n","import SmartSearchPanel from './smart-search-panel';\r\n\r\nexport default SmartSearchPanel;","import App from './app';\r\n\r\nexport default App;","import React from \"react\";\r\nimport CardList from \"../card-list\";\r\nimport logo from \"../../img/logo.png\";\r\nimport \"antd/dist/antd.css\"\r\nimport \"./app.css\";\r\nimport Filter from \"../filter/\";\r\nimport SmartSearchPanel from \"../smart-search-panel\";\r\n\r\n\r\nconst App = () => {\r\n  return (\r\n    <div className=\"app-container\">\r\n      <div className=\"app-logo-wrapper\">\r\n        <img className=\"app-logo\" src={logo} alt=\"лого\" />\r\n      </div>\r\n      <div className=\"app-components-wrapper\">\r\n        <div className=\"card-list-wrapper\">\r\n          <CardList />\r\n        </div>\r\n        <div className=\"sort-settings-wrapper\">\r\n        <SmartSearchPanel />\r\n        <Filter />\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default App;\r\n","import ErrorIndicator from './error-indicator';\r\n\r\nexport default ErrorIndicator;","import React from \"react\";\r\nimport \"./error-indicator.css\";\r\n\r\nconst ErrorIndicator = () => {\r\n  return (\r\n    <div className=\"error-indicator-wrapper\">\r\n      <div className=\"error-message-wrapper\">\r\n        <div className=\"error-message-title\">Ошибка</div>\r\n        <div>Билеты не загружены <br/> Перезагрузите страницу!</div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ErrorIndicator;\r\n","import ErrorBoundry from './error-boundry';\r\n\r\nexport default ErrorBoundry;","import React, { Component } from \"react\";\r\nimport ErrorIndicator from \"../error-indicator\";\r\n\r\nexport default class ErrorBoundry extends Component {\r\n  state = {\r\n    hasError: false\r\n  };\r\n\r\n  componentDidCatch() {\r\n    this.setState({\r\n      hasError: true\r\n    });\r\n  }\r\n  render() {\r\n    if (this.state.hasError) {\r\n      return <ErrorIndicator />;\r\n    }\r\n    return this.props.children;\r\n  }\r\n}\r\n","export default class TakeLookService {\r\n\r\n        data =  [{\r\n            \"id\": 12,\r\n            \"name\": \"Фламинго\",\r\n            \"price\": 1200,\r\n            \"view\": [\"https://128121.selcdn.ru/react/1.jpg\"],\r\n            \"params\": [\"птица\", \"окно\"]\r\n        },\r\n        {\r\n            \"id\": 13,\r\n            \"name\": \"Семейная\",\r\n            \"price\": 1800,\r\n            \"view\": [\"https://128121.selcdn.ru/react/2.jpg\"],\r\n            \"params\": [\"камин\", \"качель\", \"окно\"]\r\n        },\r\n        {\r\n            \"id\": 15,\r\n            \"name\": \"Ночная\",\r\n            \"price\": 2000,\r\n            \"view\": [\"https://128121.selcdn.ru/react/3.jpg\"],\r\n            \"params\": [\"зеркало\", \"стул\", \"портрет\"]\r\n        },\r\n        {\r\n            \"id\": 122,\r\n            \"name\": \"Калибри\",\r\n            \"price\": 1300,\r\n            \"view\": [\"https://128121.selcdn.ru/react/4.jpg\"],\r\n            \"params\": [\"картина\", \"слон\", \"стекло\"]\r\n        },\r\n        {\r\n            \"id\": 123,\r\n            \"name\": \"Стильная\",\r\n            \"price\": 1500,\r\n            \"view\": [\"https://128121.selcdn.ru/react/5.jpg\"],\r\n            \"params\": [\"занавес\", \"тумба\"]\r\n        },\r\n        {\r\n            \"id\": 100,\r\n            \"name\": \"Лофт\",\r\n            \"price\": 2200,\r\n            \"view\": [\"https://128121.selcdn.ru/react/6.jpg\"],\r\n            \"params\": []\r\n        },\r\n        {\r\n            \"id\": 178,\r\n            \"name\": \"Таганка\",\r\n            \"price\": 1100,\r\n            \"view\": [\"https://128121.selcdn.ru/react/7.jpg\"],\r\n            \"params\": [\"картина\", \"обои\", \"окно\"]\r\n        },\r\n        {\r\n            \"id\": 1221,\r\n            \"name\": \"Лондон\",\r\n            \"price\": 1250,\r\n            \"view\": [\"https://128121.selcdn.ru/react/8.jpg\"],\r\n            \"params\": [\"камин\", \"картина\", \"окно\"]\r\n        },\r\n        {\r\n            \"id\": 1891,\r\n            \"name\": \"Уют\",\r\n            \"price\": 1450,\r\n            \"view\": [\"https://128121.selcdn.ru/react/9.jpg\"],\r\n            \"params\": [\"камин\", \"обои\", \"картина\"]\r\n        }\r\n    ]\r\n        \r\n    getData() {\r\n        return new Promise(resolve => {\r\n          setTimeout(() => {\r\n            resolve(this.data);\r\n          }, 700);\r\n        });\r\n      }\r\n\r\n}\r\n\r\n\r\n","const initialState = {\r\n  cards: [],\r\n  tags: [\"камин\"],\r\n  term: \"\",\r\n  variableTags: [],\r\n  loading: true,\r\n  selectedPriceRange: [0, 500],\r\n  defaultPriceRange: {\r\n    min: 0,\r\n    max: 500\r\n  }\r\n};\r\n\r\n// 1) Сделать одну функцию\r\n\r\nconst addTagToList = (state, tag) => {\r\n  let test = state.cards.filter(card => {\r\n    for (let params of card.params) {\r\n      if (params == tag) return true;\r\n    }\r\n  });\r\n\r\n  if (!test.length == 0) {\r\n    const item = state.tags.findIndex(\r\n      currentValue => currentValue == tag.toLowerCase()\r\n    );\r\n\r\n    if (item == -1) {\r\n      return {\r\n        ...state,\r\n        tags: [...state.tags, tag]\r\n      };\r\n    } else {\r\n      return {\r\n        ...state\r\n      };\r\n    }\r\n  } else {\r\n    return {\r\n      ...state\r\n    };\r\n  }\r\n};\r\n\r\nconst removeTageFromList = (state, tag) => {\r\n  let tags = [...state.tags.slice(0, tag), ...state.tags.slice(tag + 1)];\r\n  return {\r\n    ...state,\r\n    tags: tags\r\n  };\r\n};\r\n\r\nconst findVariableTags = (state, cards) => {\r\n  let newArr = [];\r\n  cards.filter(card => {\r\n    for (let params of card.params) {\r\n      if (newArr.findIndex(currentValue => currentValue == params) == -1)\r\n        newArr.push(params);\r\n    }\r\n  });\r\n  return {\r\n    ...state,\r\n    variableTags: newArr\r\n  };\r\n};\r\n\r\nconst reducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case \"FETCH_CARDS_SUCCESS\":\r\n      return {\r\n        ...state,\r\n        cards: action.payload,\r\n        loading: false\r\n      };\r\n    case \"CHANGE_RANGE_FILTER\":\r\n      return {\r\n        ...state,\r\n        selectedPriceRange: {\r\n          min: action.payload.min,\r\n          max: action.payload.max\r\n        }\r\n      };\r\n    case \"SET_CURRENT_RANGE_VALUE\":\r\n      return {\r\n        ...state,\r\n        selectedPriceRange: action.payload\r\n      };\r\n\r\n    case \"SET_DEFAULT_RANGE_VALUE\":\r\n      return {\r\n        ...state,\r\n        defaultPriceRange: {\r\n          min: action.payload.min,\r\n          max: action.payload.max\r\n        }\r\n      };\r\n    case \"FIND_SEARCH_TAGS\": // добавить актуальный тэги в стор\r\n      return findVariableTags(state, action.payload);\r\n    case \"TAG_ADDED_TO_TAGLIST\":\r\n      return addTagToList(state, action.payload);\r\n    case \"TAG_REMOVED_FROM_TAGLIST\":\r\n      return removeTageFromList(state, action.payload);\r\n    case \"CHANGE_TERM\":\r\n      return {\r\n        ...state,\r\n        term: action.payload\r\n      };\r\n\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default reducer;\r\n","import { createStore } from \"redux\";\r\n\r\nimport reducer from \"./reducers\";\r\n\r\nconst store = createStore(reducer, window.__REDUX_DEVTOOLS_EXTENSION__ && window.__REDUX_DEVTOOLS_EXTENSION__());\r\n\r\nexport default store;\r\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './components/app';\nimport { Provider } from \"react-redux\";\n\nimport ErrorBoundry from \"./components/error-boundry\";\nimport TakeLookService from \"./services/takelook-service\";\nimport { TakeLookServiceProvider } from \"./components/takelook-service-context\";\n\nimport store from \"./store\";\n\nconst takelookService = new TakeLookService();\n\nReactDOM.render(\n  <Provider store={store}>\n    <ErrorBoundry>\n      <TakeLookServiceProvider value={takelookService}>\n        <App />\n      </TakeLookServiceProvider>\n    </ErrorBoundry>\n  </Provider>,\n  document.getElementById(\"root\")\n);\n\n\n\n"],"sourceRoot":""}